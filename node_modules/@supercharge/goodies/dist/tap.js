'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
exports.tap = void 0;
const isPromise_1 = require("./isPromise");
const isFunction_1 = require("./isFunction");
const isAsyncFunction_1 = require("./isAsyncFunction");
function tap(value, callback) {
    if (isPromise_1.isPromise(value)) {
        return tapAsync(value, callback);
    }
    if (isAsyncFunction_1.isAsyncFunction(callback)) {
        return tapAsync(value, callback);
    }
    return tapSync(value, callback);
}
exports.tap = tap;
/**
 * Synchronous handling of `tap`.
 *
 * @param {*} value
 * @param {Function} callback
 *
 * @returns {*}
 */
function tapSync(value, callback) {
    if (!callback) {
        return value;
    }
    if (isFunction_1.isFunction(callback)) {
        callback(value);
    }
    return value;
}
/**
 * Asynchronous handling of `tap`.
 *
 * @param {*} value
 * @param {Function} callback
 *
 * @returns {*}
 */
async function tapAsync(value, callback) {
    if (!callback) {
        return value;
    }
    if (isPromise_1.isPromise(value)) {
        value = await value;
    }
    if (isFunction_1.isFunction(callback)) {
        await callback(value);
    }
    return value;
}
